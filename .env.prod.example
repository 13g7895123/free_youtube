# ========================================
# YouTube Loop Player - 正式環境配置範例
# ========================================
# 請複製此文件為 .env.prod 並修改相關設定
# 使用方式：docker-compose -f docker-compose.prod.yml --env-file .env.prod up -d

# ========================================
# 資料庫配置
# ========================================
# ⚠️ 重要：請務必修改為強密碼！
# 這些變數會被 docker-compose.yml 讀取並：
#   1. 傳遞給 MariaDB 容器進行初始化
#   2. 映射為 CI4 的 database.default.* 環境變數給後端使用
MYSQL_ROOT_PASSWORD=your_strong_root_password_here
MYSQL_DATABASE=free_youtube
MYSQL_USER=app_user
MYSQL_PASSWORD=your_strong_app_password_here
MYSQL_PORT=3307

# ========================================
# 應用程式端口配置
# ========================================
FRONTEND_PORT=9104
BACKEND_PORT=9204
PHPMYADMIN_PORT=9304

# ========================================
# 前端 API 配置
# ========================================
# 前端調用後端 API 的 URL
# 正式環境使用相對路徑 /api（由 Nginx 代理到後端）
# 如果前後端分離部署，則填入完整後端 URL：https://api.your-domain.com
VITE_API_URL=/api

# ========================================
# 認證模式配置
# ========================================
# 認證模式：line | mock
# 正式環境請使用 line，開發環境可使用 mock
AUTH_MODE=line

# Mock 使用者 ID（僅在 AUTH_MODE=mock 時使用，正式環境可忽略）
# MOCK_USER_ID=1

# ========================================
# LINE Login 設定
# ========================================
# ⚠️ 重要：從 LINE Developers Console 取得
# 網址：https://developers.line.biz/console/
#
# 1. 建立 LINE Login Channel
# 2. 取得 Channel ID 和 Channel Secret
# 3. 設定 Callback URL（必須使用 HTTPS）

# LINE Login Channel ID
LINE_LOGIN_CHANNEL_ID=your_channel_id_here

# LINE Login Channel Secret
LINE_LOGIN_CHANNEL_SECRET=your_channel_secret_here

# LINE Login Callback URL（正式環境必須使用 HTTPS）
# 格式：https://your-domain.com/api/auth/line/callback
LINE_LOGIN_CALLBACK_URL=https://your-domain.com/api/auth/line/callback

# Token 過期時間（秒）
# 預設：2592000（30 天）
TOKEN_EXPIRE_SECONDS=2592000

# 前端 URL（用於登入成功後重定向）
# 格式：https://your-domain.com
FRONTEND_URL=https://your-domain.com

# ========================================
# 應用程式環境
# ========================================
APP_ENV=production
APP_DEBUG=false

# ========================================
# 日誌配置
# ========================================
LOG_LEVEL=warning

# ========================================
# 其他配置
# ========================================
TZ=Asia/Taipei

# ========================================
# 設定說明
# ========================================
#
# 📋 快速設定步驟：
#
# 1. 複製此檔案：
#    cp .env.prod.example .env.prod
#
# 2. 修改資料庫密碼：
#    - MYSQL_ROOT_PASSWORD（必須修改）
#    - MYSQL_PASSWORD（必須修改）
#
# 3. 設定 LINE Login（從 LINE Developers Console 取得）：
#    - LINE_LOGIN_CHANNEL_ID
#    - LINE_LOGIN_CHANNEL_SECRET
#    - LINE_LOGIN_CALLBACK_URL（替換 your-domain.com）
#    - FRONTEND_URL（替換 your-domain.com）
#
# 4. 確認 AUTH_MODE=line（正式環境）
#
# 5. 啟動服務：
#    docker-compose -f docker-compose.prod.yml --env-file .env.prod up -d
#
# ⚠️ 安全提醒：
# - .env.prod 已在 .gitignore 中，不會提交到版控
# - 請妥善保管此檔案，包含敏感資訊
# - 建議使用環境變數或 secrets 管理工具
# - 正式環境務必使用 HTTPS
