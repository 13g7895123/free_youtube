<!--
同步影響報告：
- 版本：1.0.0 → 1.1.0（增強技術堆疊規範）
- 修改原則：第五條「TypeScript 與 Next.js 標準」→「技術堆疊穩定性標準」
- 新增內容：明確前端 (Vue.js 3.x) 與後端 (PHP 8.1+ / CodeIgniter 4.x) 技術標準
- 移除章節：N/A
- 模板狀態：✅ 無需模板變更
- 後續追蹤：確保所有特性規劃遵循前後端技術堆疊規範
-->

# 官方網站專案憲章

## 核心原則

### 一、尊重棕地專案（不可協商）

**絕對禁止**在未經使用者明確要求的情況下重構或修改現有的正常運作程式碼。
**必須**僅對被要求的特定部分進行精準的最小化修改。**必須**保留現有的架構、
模式和程式碼風格。除非使用者明確表示「refactor」或「重構」，否則**禁止**
進行重構。

**理由說明**：這是一個正式上線的棕地專案。不必要的變更會造成現有功能損壞的
風險，並危及團隊穩定性。工作安全取決於對現有程式碼庫的尊重。

### 二、最小化變更原則

每次修改**必須**是達成目標所需的最小變更。**必須**避免觸碰不相關的檔案、
函式或程式碼行。**必須**保留現有的註解、格式和結構，除非這些特定項目被明確
指定需要變更。

**理由說明**：最小化變更範圍可降低風險、簡化程式碼審查，並在棕地環境中維持
系統穩定性。

### 三、需要明確許可

程式碼變更、架構決策和依賴套件更新**需要**使用者明確批准才能實施。**必須**
提供選項並等待確認。**絕對禁止**擅自修改程式碼結構、新增函式庫或變更建置
配置。

**理由說明**：使用者對所有變更保有控制權，以保護正式環境穩定性並確保符合
團隊標準。

### 四、測試紀律

現有測試**必須**在變更後持續通過。新功能**應該**在被要求時包含測試（單元測試
使用 Jest）。**絕對禁止**修改或移除現有測試檔案，除非
被明確指示。

**理由說明**：測試套件保護系統免於功能退化。在棕地專案中，維持現有測試覆蓋率
至關重要。

### 五、技術堆疊穩定性標準

**必須**遵循程式碼庫中現有的技術標準和慣例：
- **前端**: JavaScript ES2020+ 模式和 Vue.js 3.x (Composition API) 慣例
- **後端**: PHP 8.1+ 模式和 CodeIgniter 4.x 框架慣例

**絕對禁止**在未經明確批准的情況下：
- 升級主要版本 (Vue 3.x → 4.x, CodeIgniter 4.x → 5.x, PHP 8.1 → 9.x)
- 引入新框架或語言
- 新增 npm 或 composer 套件依賴

**理由說明**：技術堆疊穩定性對棕地專案至關重要。版本變更可能在整個程式碼庫
中引發連鎖性的破壞性變更。

## 變更分類

### 允許的變更（需使用者要求）
- 修復特定函式/元件的錯誤
- 在新檔案中建立新功能
- 安全性依賴套件修補（經批准後）
- 文件更新
- 測試新增（非修改）

### 禁止的變更（除非明確要求）
- 重構現有正常運作的程式碼
- 變更檔案結構或架構
- 修改編碼模式或慣例
- 升級主要依賴套件版本
- 移除或重組現有功能

## 開發工作流程

### 變更前
1. **仔細閱讀**要求的變更內容
2. **識別**需要修改的最小檔案集
3. **提議**具體變更（如果不清楚）
4. **等待**明確批准（如果範圍模糊）

### 實施期間
1. **僅修改**被要求的部分
2. **保留**所有現有程式碼風格和結構
3. **測試**現有功能仍正常運作
4. **驗證**無意外副作用

### 變更後
1. **報告**確切變更內容及原因
2. **確認**測試仍然通過
3. **等待**使用者驗證才算完成

## 治理規範

本憲章**優先於**本專案的所有其他開發指南。任何在此程式碼庫上工作的 AI 代理、
開發者或工具**必須**遵守這些原則。

**修訂程序**：憲章變更需要使用者明確要求並記錄理由。版本號遵循語意化版本控制
（主版本.次版本.修訂版本）。

**合規性**：每次程式碼變更**必須**在實施前根據這些原則進行驗證。如有疑問，
應詢問使用者而非自行假設。

**緊急覆寫**：使用者可以透過明確表示「ignore constitution」或「憲法暫停」
來暫時性地針對特定要求暫停原則。

**版本**：1.1.0 | **批准日期**：2025-10-31 | **最後修訂**：2025-11-01
